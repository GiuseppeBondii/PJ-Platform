{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppebondi/Documents/GitHub/platform/src/components/EmuSchermo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport \"./EmuSchermo.css\";\nimport { GAME_LEVELS } from \"./Levels\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BUTTONS = {\n  A: 1,\n  B: 2,\n  START: 3,\n  SELECT: 4,\n  UP: 5,\n  DOWN: 6,\n  LEFT: 7,\n  RIGHT: 8\n};\nconst LEVEL_TYPES = {\n  PLATFORM: \"platform\",\n  MOVING: \"moving\",\n  BOUNCE: \"bounce\",\n  ENEMY: \"enemy\",\n  FINISH: \"finish\",\n  SPIKE: \"spike\",\n  DISAPPEARING: \"disappear\"\n};\n\n// Costanti di fisica e dimensione della pallina\nconst ballSize = 6;\nconst horizontalAcceleration = 0.2;\nconst maxHorizontalSpeed = 2;\nconst friction = 0.2;\nconst jumpVelocity = 7;\nconst gravity = -0.5;\nconst bounceMultiplier = 0.5;\nfunction EmuSchermo({\n  pressedButtons\n}) {\n  _s();\n  var _GAME_LEVELS$currentL;\n  const [currentLevel, setCurrentLevel] = useState(0);\n  const [gameState, setGameState] = useState({\n    lives: 3,\n    isGameOver: false,\n    isLevelComplete: false\n  });\n\n  // Stato per gestire le piattaforme che scompaiono\n  const [disappearingPlatforms, setDisappearingPlatforms] = useState({});\n  const disappearingTimersRef = useRef({});\n\n  // Stato della pallina\n  const [ball, setBall] = useState({\n    x: 0,\n    y: 0,\n    vx: 0,\n    vy: 0,\n    isOnGround: false,\n    isJumping: false\n  });\n\n  // Inizializzazione della posizione della pallina e reset degli stati per ogni nuovo livello\n  useEffect(() => {\n    if (GAME_LEVELS[currentLevel]) {\n      const {\n        startPosition\n      } = GAME_LEVELS[currentLevel];\n      setBall({\n        x: startPosition.x,\n        y: startPosition.y,\n        vx: 0,\n        vy: 0,\n        isOnGround: false,\n        isJumping: false\n      });\n      setDisappearingPlatforms({});\n      Object.values(disappearingTimersRef.current).forEach(timer => clearTimeout(timer));\n      disappearingTimersRef.current = {};\n\n      // Aggiunge un effetto di transizione al cambio livello\n      const container = document.querySelector('.emu-container');\n      if (container) {\n        container.classList.add('level-transition');\n        setTimeout(() => container.classList.remove('level-transition'), 500);\n      }\n    }\n  }, [currentLevel]);\n\n  // Utilizzo di un ref per mantenere l'ultimo stato dei tasti premuti\n  const pressedButtonsRef = useRef(pressedButtons);\n  useEffect(() => {\n    pressedButtonsRef.current = pressedButtons;\n  }, [pressedButtons]);\n\n  // Gestione delle collisioni con le piattaforme (incluse quelle mobili, rimbalzanti e scomparenti)\n  const checkPlatformCollision = (x, y, vx, vy) => {\n    if (!GAME_LEVELS[currentLevel]) return {\n      collision: false\n    };\n    const elements = GAME_LEVELS[currentLevel].elements;\n    const ballBottom = y;\n    const ballTop = y + ballSize;\n    const ballLeft = x;\n    const ballRight = x + ballSize;\n    const tolerance = 2;\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.type === LEVEL_TYPES.DISAPPEARING && disappearingPlatforms[i]) {\n        continue;\n      }\n      if ([LEVEL_TYPES.PLATFORM, LEVEL_TYPES.MOVING, LEVEL_TYPES.BOUNCE, LEVEL_TYPES.DISAPPEARING].includes(element.type)) {\n        let elementX = element.x;\n        let elementY = element.y;\n        if (element.type === LEVEL_TYPES.MOVING) {\n          const time = Date.now() / 1000;\n          const cycle = Math.sin(time * element.speed);\n          elementX = element.x + element.moveX * cycle;\n          elementY = element.y + element.moveY * cycle;\n        }\n        const elementLeft = elementX;\n        const elementRight = elementX + element.width;\n        const elementTop = elementY + element.height;\n        const elementBottom = elementY;\n        if (ballRight > elementLeft && ballLeft < elementRight && ballTop > elementBottom && ballBottom < elementTop) {\n          const fromTop = ballBottom - elementTop;\n          const fromBottom = elementBottom - ballTop;\n          const fromLeft = ballRight - elementLeft;\n          const fromRight = elementRight - ballLeft;\n          const minPenetration = Math.min(Math.abs(fromTop), Math.abs(fromBottom), Math.abs(fromLeft), Math.abs(fromRight));\n\n          // Collisione dall'alto: atterraggio sulla piattaforma\n          if (minPenetration === Math.abs(fromTop) && vy < 0) {\n            if (element.type === LEVEL_TYPES.DISAPPEARING && !disappearingPlatforms[i]) {\n              disappearingTimersRef.current[i] = setTimeout(() => {\n                setDisappearingPlatforms(prev => ({\n                  ...prev,\n                  [i]: true\n                }));\n              }, element.timeout || 1000);\n            }\n            if (element.type === LEVEL_TYPES.BOUNCE) {\n              return {\n                collision: true,\n                y: elementTop,\n                vy: jumpVelocity * (element.power || bounceMultiplier),\n                isOnGround: false\n              };\n            }\n            return {\n              collision: true,\n              y: elementTop,\n              vy: 0,\n              isOnGround: true\n            };\n          }\n          // Collisione dal basso\n          if (minPenetration === Math.abs(fromBottom) && vy > 0) {\n            return {\n              collision: true,\n              y: elementBottom - ballSize,\n              vy: -vy * 0.2,\n              isOnGround: false\n            };\n          }\n          // Collisione da sinistra\n          if (minPenetration === Math.abs(fromLeft) && Math.abs(vx) > 0) {\n            return {\n              collision: true,\n              x: elementLeft - ballSize,\n              vx: 0\n            };\n          }\n          // Collisione da destra\n          if (minPenetration === Math.abs(fromRight) && Math.abs(vx) > 0) {\n            return {\n              collision: true,\n              x: elementRight,\n              vx: 0\n            };\n          }\n        }\n\n        // Gestione speciale per un atterraggio preciso\n        if (vy < 0 && ballBottom >= elementTop - tolerance && ballBottom <= elementTop + tolerance && ballRight > elementLeft + 1 && ballLeft < elementRight - 1) {\n          if (element.type === LEVEL_TYPES.DISAPPEARING && !disappearingPlatforms[i]) {\n            disappearingTimersRef.current[i] = setTimeout(() => {\n              setDisappearingPlatforms(prev => ({\n                ...prev,\n                [i]: true\n              }));\n            }, element.timeout || 1000);\n          }\n          if (element.type === LEVEL_TYPES.BOUNCE) {\n            return {\n              collision: true,\n              y: elementTop,\n              vy: jumpVelocity * (element.power || bounceMultiplier),\n              isOnGround: false\n            };\n          }\n          return {\n            collision: true,\n            y: elementTop,\n            vy: 0,\n            isOnGround: true\n          };\n        }\n      }\n    }\n    return {\n      collision: false\n    };\n  };\n\n  // Gestione delle collisioni con nemici e ostacoli (come le punte)\n  const checkHazardCollision = (x, y) => {\n    if (!GAME_LEVELS[currentLevel]) return false;\n    const elements = GAME_LEVELS[currentLevel].elements;\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if ([LEVEL_TYPES.ENEMY, LEVEL_TYPES.SPIKE].includes(element.type)) {\n        let elementX = element.x;\n        let elementY = element.y;\n        if (element.type === LEVEL_TYPES.ENEMY && element.moveX) {\n          const time = Date.now() / 1000;\n          const cycle = Math.sin(time * element.speed);\n          elementX = element.x + element.moveX * cycle;\n        }\n        if (x < elementX + element.width && x + ballSize > elementX && y < elementY + element.height && y + ballSize > elementY) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  // Verifica se il giocatore ha raggiunto il traguardo\n  const checkFinishCollision = (x, y) => {\n    if (!GAME_LEVELS[currentLevel]) return false;\n    const elements = GAME_LEVELS[currentLevel].elements;\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.type === LEVEL_TYPES.FINISH) {\n        const finishSize = 10;\n        if (x < element.x + finishSize && x + ballSize > element.x && y < element.y + finishSize && y + ballSize > element.y) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  // Passaggio al livello successivo o fine gioco se non ci sono altri livelli\n  const completeLevel = () => {\n    if (currentLevel < GAME_LEVELS.length - 1) {\n      setCurrentLevel(prev => prev + 1);\n    } else {\n      setGameState(prev => ({\n        ...prev,\n        isGameOver: true,\n        isLevelComplete: true\n      }));\n    }\n  };\n\n  // Gestione della \"morte\" del giocatore e ripristino del livello\n  const playerDeath = () => {\n    setGameState(prev => {\n      const newLives = prev.lives - 1;\n      if (newLives <= 0) {\n        return {\n          ...prev,\n          lives: 0,\n          isGameOver: true\n        };\n      }\n      return {\n        ...prev,\n        lives: newLives\n      };\n    });\n    if (GAME_LEVELS[currentLevel]) {\n      const {\n        startPosition\n      } = GAME_LEVELS[currentLevel];\n      setBall({\n        x: startPosition.x,\n        y: startPosition.y,\n        vx: 0,\n        vy: 0,\n        isOnGround: false,\n        isJumping: false\n      });\n    }\n  };\n\n  // Ciclo di aggiornamento della fisica e gestione degli input con requestAnimationFrame\n  const animationFrameId = useRef(null);\n  useEffect(() => {\n    const update = () => {\n      if (gameState.isGameOver) return;\n      setBall(prev => {\n        let {\n          x,\n          y,\n          vx,\n          vy,\n          isOnGround,\n          isJumping\n        } = prev;\n        const currentPressed = pressedButtonsRef.current || {};\n\n        // Gestione movimento orizzontale e attrito\n        if (currentPressed[BUTTONS.LEFT]) {\n          vx -= horizontalAcceleration;\n        }\n        if (currentPressed[BUTTONS.RIGHT]) {\n          vx += horizontalAcceleration;\n        }\n        if (!currentPressed[BUTTONS.LEFT] && !currentPressed[BUTTONS.RIGHT]) {\n          if (vx > 0) vx = Math.max(vx - friction, 0);else if (vx < 0) vx = Math.min(vx + friction, 0);\n        }\n        vx = Math.min(Math.max(vx, -maxHorizontalSpeed), maxHorizontalSpeed);\n\n        // Salto\n        if (currentPressed[BUTTONS.A] && isOnGround) {\n          vy = jumpVelocity;\n          isOnGround = false;\n          isJumping = true;\n        } else if (!currentPressed[BUTTONS.A]) {\n          isJumping = false;\n        }\n\n        // Applica gravità\n        vy += gravity;\n        const newX = x + vx;\n        const newY = y + vy;\n\n        // Gestione collisioni con piattaforme\n        const collision = checkPlatformCollision(newX, newY, vx, vy);\n        if (collision.collision) {\n          x = collision.x !== undefined ? collision.x : newX;\n          y = collision.y !== undefined ? collision.y : newY;\n          vx = collision.vx !== undefined ? collision.vx : vx;\n          vy = collision.vy !== undefined ? collision.vy : vy;\n          isOnGround = collision.isOnGround !== undefined ? collision.isOnGround : isOnGround;\n        } else {\n          x = newX;\n          y = newY;\n          isOnGround = false;\n        }\n\n        // Collisione con nemici o ostacoli\n        if (checkHazardCollision(x, y)) {\n          playerDeath();\n        }\n\n        // Verifica traguardo\n        if (checkFinishCollision(x, y)) {\n          completeLevel();\n        }\n\n        // Se la pallina cade sotto il livello\n        if (y < -10) {\n          playerDeath();\n          return {\n            x,\n            y: 0,\n            vx: 0,\n            vy: 0,\n            isOnGround: false,\n            isJumping: false\n          };\n        }\n\n        // Limita il movimento orizzontale nel container\n        if (x < 0) {\n          x = 0;\n          vx = 0;\n        }\n        if (x > 100 - ballSize) {\n          x = 100 - ballSize;\n          vx = 0;\n        }\n\n        // Reset livello con il pulsante START\n        if (currentPressed[BUTTONS.START] && GAME_LEVELS[currentLevel]) {\n          const {\n            startPosition\n          } = GAME_LEVELS[currentLevel];\n          return {\n            x: startPosition.x,\n            y: startPosition.y,\n            vx: 0,\n            vy: 0,\n            isOnGround: false,\n            isJumping: false\n          };\n        }\n\n        // Cambia livello con il pulsante SELECT\n        if (currentPressed[BUTTONS.SELECT]) {\n          setCurrentLevel(prev => (prev + 1) % GAME_LEVELS.length);\n        }\n\n        // Supporto per abbassarsi o accelerare la caduta\n        if (currentPressed[BUTTONS.DOWN] && !isOnGround) {\n          vy -= 0.5;\n        }\n        return {\n          x,\n          y,\n          vx,\n          vy,\n          isOnGround,\n          isJumping\n        };\n      });\n      animationFrameId.current = requestAnimationFrame(update);\n    };\n    animationFrameId.current = requestAnimationFrame(update);\n    return () => cancelAnimationFrame(animationFrameId.current);\n  }, [currentLevel, gameState.isGameOver]);\n\n  // Renderizza gli elementi del livello (escludendo i \"collectable\")\n  const renderLevel = () => {\n    if (!GAME_LEVELS[currentLevel]) return null;\n    const level = GAME_LEVELS[currentLevel];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: level.elements.map((element, index) => {\n        if (element.type === LEVEL_TYPES.DISAPPEARING && disappearingPlatforms[index]) return null;\n        // Escludiamo eventuali oggetti \"collectable\" se presenti\n        if (element.type === \"collectable\") return null;\n        let elementX = element.x;\n        let elementY = element.y;\n        if (element.type === LEVEL_TYPES.MOVING) {\n          const time = Date.now() / 1000;\n          const cycle = Math.sin(time * element.speed);\n          elementX = element.x + element.moveX * cycle;\n          elementY = element.y + element.moveY * cycle;\n        }\n        const commonStyle = {\n          left: `${elementX}%`,\n          bottom: `${elementY}%`,\n          width: `${element.width}%`,\n          height: `${element.height}%`\n        };\n        switch (element.type) {\n          case LEVEL_TYPES.PLATFORM:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"platform\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.MOVING:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"platform moving\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.BOUNCE:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"platform bounce\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.DISAPPEARING:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"platform disappearing\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.ENEMY:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"enemy\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.SPIKE:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spike\",\n              style: commonStyle\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 22\n            }, this);\n          case LEVEL_TYPES.FINISH:\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"finish\",\n              style: {\n                left: `${elementX}%`,\n                bottom: `${elementY}%`,\n                width: \"10%\",\n                height: \"10%\"\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this);\n          default:\n            return null;\n        }\n      })\n    }, void 0, false);\n  };\n\n  // Interfaccia di gioco (gestione vite e messaggi di Game Over/Complimento)\n  const renderGameInterface = () => {\n    if (gameState.isGameOver) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-over\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: gameState.isLevelComplete ? \"Congratulazioni!\" : \"Game Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setCurrentLevel(0);\n            setGameState({\n              lives: 3,\n              isGameOver: false,\n              isLevelComplete: false\n            });\n          },\n          children: \"Ricomincia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lives-display\",\n        children: [\"Vite: \", Array.from({\n          length: gameState.lives\n        }, (_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"life-icon\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 68\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"emu-container\",\n    style: {\n      backgroundColor: ((_GAME_LEVELS$currentL = GAME_LEVELS[currentLevel]) === null || _GAME_LEVELS$currentL === void 0 ? void 0 : _GAME_LEVELS$currentL.backgroundColor) || \"#87CEEB\"\n    },\n    children: [renderLevel(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ball\",\n      style: {\n        left: `${ball.x}%`,\n        bottom: `${ball.y}%`,\n        width: `${ballSize}%`,\n        height: `${ballSize}%`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 7\n    }, this), renderGameInterface()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 430,\n    columnNumber: 5\n  }, this);\n}\n_s(EmuSchermo, \"SfsFvq5bPWcXaxRc4Os204dLveQ=\");\n_c = EmuSchermo;\nexport default EmuSchermo;\nvar _c;\n$RefreshReg$(_c, \"EmuSchermo\");","map":{"version":3,"names":["React","useState","useEffect","useRef","GAME_LEVELS","jsxDEV","_jsxDEV","Fragment","_Fragment","BUTTONS","A","B","START","SELECT","UP","DOWN","LEFT","RIGHT","LEVEL_TYPES","PLATFORM","MOVING","BOUNCE","ENEMY","FINISH","SPIKE","DISAPPEARING","ballSize","horizontalAcceleration","maxHorizontalSpeed","friction","jumpVelocity","gravity","bounceMultiplier","EmuSchermo","pressedButtons","_s","_GAME_LEVELS$currentL","currentLevel","setCurrentLevel","gameState","setGameState","lives","isGameOver","isLevelComplete","disappearingPlatforms","setDisappearingPlatforms","disappearingTimersRef","ball","setBall","x","y","vx","vy","isOnGround","isJumping","startPosition","Object","values","current","forEach","timer","clearTimeout","container","document","querySelector","classList","add","setTimeout","remove","pressedButtonsRef","checkPlatformCollision","collision","elements","ballBottom","ballTop","ballLeft","ballRight","tolerance","i","length","element","type","includes","elementX","elementY","time","Date","now","cycle","Math","sin","speed","moveX","moveY","elementLeft","elementRight","width","elementTop","height","elementBottom","fromTop","fromBottom","fromLeft","fromRight","minPenetration","min","abs","prev","timeout","power","checkHazardCollision","checkFinishCollision","finishSize","completeLevel","playerDeath","newLives","animationFrameId","update","currentPressed","max","newX","newY","undefined","requestAnimationFrame","cancelAnimationFrame","renderLevel","level","children","map","index","commonStyle","left","bottom","className","style","fileName","_jsxFileName","lineNumber","columnNumber","renderGameInterface","onClick","Array","from","_","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/giuseppebondi/Documents/GitHub/platform/src/components/EmuSchermo.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./EmuSchermo.css\";\nimport { GAME_LEVELS } from \"./Levels\";\n\nconst BUTTONS = {\n  A: 1,\n  B: 2,\n  START: 3,\n  SELECT: 4,\n  UP: 5,\n  DOWN: 6,\n  LEFT: 7,\n  RIGHT: 8,\n};\n\nconst LEVEL_TYPES = {\n  PLATFORM: \"platform\",\n  MOVING: \"moving\",\n  BOUNCE: \"bounce\",\n  ENEMY: \"enemy\",\n  FINISH: \"finish\",\n  SPIKE: \"spike\",\n  DISAPPEARING: \"disappear\"\n};\n\n// Costanti di fisica e dimensione della pallina\nconst ballSize = 6;\nconst horizontalAcceleration = 0.2;\nconst maxHorizontalSpeed = 2;\nconst friction = 0.2;\nconst jumpVelocity = 7;\nconst gravity = -0.5;\nconst bounceMultiplier = 0.5;\n\nfunction EmuSchermo({ pressedButtons }) {\n  const [currentLevel, setCurrentLevel] = useState(0);\n  const [gameState, setGameState] = useState({\n    lives: 3,\n    isGameOver: false,\n    isLevelComplete: false,\n  });\n\n  // Stato per gestire le piattaforme che scompaiono\n  const [disappearingPlatforms, setDisappearingPlatforms] = useState({});\n  const disappearingTimersRef = useRef({});\n\n  // Stato della pallina\n  const [ball, setBall] = useState({\n    x: 0,\n    y: 0,\n    vx: 0,\n    vy: 0,\n    isOnGround: false,\n    isJumping: false,\n  });\n\n  // Inizializzazione della posizione della pallina e reset degli stati per ogni nuovo livello\n  useEffect(() => {\n    if (GAME_LEVELS[currentLevel]) {\n      const { startPosition } = GAME_LEVELS[currentLevel];\n      setBall({\n        x: startPosition.x,\n        y: startPosition.y,\n        vx: 0,\n        vy: 0,\n        isOnGround: false,\n        isJumping: false,\n      });\n      setDisappearingPlatforms({});\n      Object.values(disappearingTimersRef.current).forEach(timer => clearTimeout(timer));\n      disappearingTimersRef.current = {};\n\n      // Aggiunge un effetto di transizione al cambio livello\n      const container = document.querySelector('.emu-container');\n      if (container) {\n        container.classList.add('level-transition');\n        setTimeout(() => container.classList.remove('level-transition'), 500);\n      }\n    }\n  }, [currentLevel]);\n\n  // Utilizzo di un ref per mantenere l'ultimo stato dei tasti premuti\n  const pressedButtonsRef = useRef(pressedButtons);\n  useEffect(() => {\n    pressedButtonsRef.current = pressedButtons;\n  }, [pressedButtons]);\n\n  // Gestione delle collisioni con le piattaforme (incluse quelle mobili, rimbalzanti e scomparenti)\n  const checkPlatformCollision = (x, y, vx, vy) => {\n    if (!GAME_LEVELS[currentLevel]) return { collision: false };\n\n    const elements = GAME_LEVELS[currentLevel].elements;\n    const ballBottom = y;\n    const ballTop = y + ballSize;\n    const ballLeft = x;\n    const ballRight = x + ballSize;\n    const tolerance = 2;\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n\n      if (element.type === LEVEL_TYPES.DISAPPEARING && disappearingPlatforms[i]) {\n        continue;\n      }\n\n      if ([LEVEL_TYPES.PLATFORM, LEVEL_TYPES.MOVING, LEVEL_TYPES.BOUNCE, LEVEL_TYPES.DISAPPEARING].includes(element.type)) {\n        let elementX = element.x;\n        let elementY = element.y;\n        if (element.type === LEVEL_TYPES.MOVING) {\n          const time = Date.now() / 1000;\n          const cycle = Math.sin(time * element.speed);\n          elementX = element.x + element.moveX * cycle;\n          elementY = element.y + element.moveY * cycle;\n        }\n        const elementLeft = elementX;\n        const elementRight = elementX + element.width;\n        const elementTop = elementY + element.height;\n        const elementBottom = elementY;\n\n        if (ballRight > elementLeft && ballLeft < elementRight && ballTop > elementBottom && ballBottom < elementTop) {\n          const fromTop = ballBottom - elementTop;\n          const fromBottom = elementBottom - ballTop;\n          const fromLeft = ballRight - elementLeft;\n          const fromRight = elementRight - ballLeft;\n          const minPenetration = Math.min(Math.abs(fromTop), Math.abs(fromBottom), Math.abs(fromLeft), Math.abs(fromRight));\n\n          // Collisione dall'alto: atterraggio sulla piattaforma\n          if (minPenetration === Math.abs(fromTop) && vy < 0) {\n            if (element.type === LEVEL_TYPES.DISAPPEARING && !disappearingPlatforms[i]) {\n              disappearingTimersRef.current[i] = setTimeout(() => {\n                setDisappearingPlatforms(prev => ({ ...prev, [i]: true }));\n              }, element.timeout || 1000);\n            }\n            if (element.type === LEVEL_TYPES.BOUNCE) {\n              return { collision: true, y: elementTop, vy: jumpVelocity * (element.power || bounceMultiplier), isOnGround: false };\n            }\n            return { collision: true, y: elementTop, vy: 0, isOnGround: true };\n          }\n          // Collisione dal basso\n          if (minPenetration === Math.abs(fromBottom) && vy > 0) {\n            return { collision: true, y: elementBottom - ballSize, vy: -vy * 0.2, isOnGround: false };\n          }\n          // Collisione da sinistra\n          if (minPenetration === Math.abs(fromLeft) && Math.abs(vx) > 0) {\n            return { collision: true, x: elementLeft - ballSize, vx: 0 };\n          }\n          // Collisione da destra\n          if (minPenetration === Math.abs(fromRight) && Math.abs(vx) > 0) {\n            return { collision: true, x: elementRight, vx: 0 };\n          }\n        }\n\n        // Gestione speciale per un atterraggio preciso\n        if (vy < 0 && ballBottom >= elementTop - tolerance && ballBottom <= elementTop + tolerance &&\n            ballRight > elementLeft + 1 && ballLeft < elementRight - 1) {\n          if (element.type === LEVEL_TYPES.DISAPPEARING && !disappearingPlatforms[i]) {\n            disappearingTimersRef.current[i] = setTimeout(() => {\n              setDisappearingPlatforms(prev => ({ ...prev, [i]: true }));\n            }, element.timeout || 1000);\n          }\n          if (element.type === LEVEL_TYPES.BOUNCE) {\n            return { collision: true, y: elementTop, vy: jumpVelocity * (element.power || bounceMultiplier), isOnGround: false };\n          }\n          return { collision: true, y: elementTop, vy: 0, isOnGround: true };\n        }\n      }\n    }\n    return { collision: false };\n  };\n\n  // Gestione delle collisioni con nemici e ostacoli (come le punte)\n  const checkHazardCollision = (x, y) => {\n    if (!GAME_LEVELS[currentLevel]) return false;\n    const elements = GAME_LEVELS[currentLevel].elements;\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if ([LEVEL_TYPES.ENEMY, LEVEL_TYPES.SPIKE].includes(element.type)) {\n        let elementX = element.x;\n        let elementY = element.y;\n        if (element.type === LEVEL_TYPES.ENEMY && element.moveX) {\n          const time = Date.now() / 1000;\n          const cycle = Math.sin(time * element.speed);\n          elementX = element.x + element.moveX * cycle;\n        }\n        if (x < elementX + element.width && x + ballSize > elementX &&\n            y < elementY + element.height && y + ballSize > elementY) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  // Verifica se il giocatore ha raggiunto il traguardo\n  const checkFinishCollision = (x, y) => {\n    if (!GAME_LEVELS[currentLevel]) return false;\n    const elements = GAME_LEVELS[currentLevel].elements;\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.type === LEVEL_TYPES.FINISH) {\n        const finishSize = 10;\n        if (x < element.x + finishSize && x + ballSize > element.x &&\n            y < element.y + finishSize && y + ballSize > element.y) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  // Passaggio al livello successivo o fine gioco se non ci sono altri livelli\n  const completeLevel = () => {\n    if (currentLevel < GAME_LEVELS.length - 1) {\n      setCurrentLevel(prev => prev + 1);\n    } else {\n      setGameState(prev => ({ ...prev, isGameOver: true, isLevelComplete: true }));\n    }\n  };\n\n  // Gestione della \"morte\" del giocatore e ripristino del livello\n  const playerDeath = () => {\n    setGameState(prev => {\n      const newLives = prev.lives - 1;\n      if (newLives <= 0) {\n        return { ...prev, lives: 0, isGameOver: true };\n      }\n      return { ...prev, lives: newLives };\n    });\n    if (GAME_LEVELS[currentLevel]) {\n      const { startPosition } = GAME_LEVELS[currentLevel];\n      setBall({\n        x: startPosition.x,\n        y: startPosition.y,\n        vx: 0,\n        vy: 0,\n        isOnGround: false,\n        isJumping: false,\n      });\n    }\n  };\n\n  // Ciclo di aggiornamento della fisica e gestione degli input con requestAnimationFrame\n  const animationFrameId = useRef(null);\n  useEffect(() => {\n    const update = () => {\n      if (gameState.isGameOver) return;\n\n      setBall(prev => {\n        let { x, y, vx, vy, isOnGround, isJumping } = prev;\n        const currentPressed = pressedButtonsRef.current || {};\n\n        // Gestione movimento orizzontale e attrito\n        if (currentPressed[BUTTONS.LEFT]) {\n          vx -= horizontalAcceleration;\n        }\n        if (currentPressed[BUTTONS.RIGHT]) {\n          vx += horizontalAcceleration;\n        }\n        if (!currentPressed[BUTTONS.LEFT] && !currentPressed[BUTTONS.RIGHT]) {\n          if (vx > 0) vx = Math.max(vx - friction, 0);\n          else if (vx < 0) vx = Math.min(vx + friction, 0);\n        }\n        vx = Math.min(Math.max(vx, -maxHorizontalSpeed), maxHorizontalSpeed);\n\n        // Salto\n        if (currentPressed[BUTTONS.A] && isOnGround) {\n          vy = jumpVelocity;\n          isOnGround = false;\n          isJumping = true;\n        } else if (!currentPressed[BUTTONS.A]) {\n          isJumping = false;\n        }\n\n        // Applica gravità\n        vy += gravity;\n\n        const newX = x + vx;\n        const newY = y + vy;\n\n        // Gestione collisioni con piattaforme\n        const collision = checkPlatformCollision(newX, newY, vx, vy);\n        if (collision.collision) {\n          x = collision.x !== undefined ? collision.x : newX;\n          y = collision.y !== undefined ? collision.y : newY;\n          vx = collision.vx !== undefined ? collision.vx : vx;\n          vy = collision.vy !== undefined ? collision.vy : vy;\n          isOnGround = collision.isOnGround !== undefined ? collision.isOnGround : isOnGround;\n        } else {\n          x = newX;\n          y = newY;\n          isOnGround = false;\n        }\n\n        // Collisione con nemici o ostacoli\n        if (checkHazardCollision(x, y)) {\n          playerDeath();\n        }\n\n        // Verifica traguardo\n        if (checkFinishCollision(x, y)) {\n          completeLevel();\n        }\n\n        // Se la pallina cade sotto il livello\n        if (y < -10) {\n          playerDeath();\n          return { x, y: 0, vx: 0, vy: 0, isOnGround: false, isJumping: false };\n        }\n\n        // Limita il movimento orizzontale nel container\n        if (x < 0) {\n          x = 0;\n          vx = 0;\n        }\n        if (x > 100 - ballSize) {\n          x = 100 - ballSize;\n          vx = 0;\n        }\n\n        // Reset livello con il pulsante START\n        if (currentPressed[BUTTONS.START] && GAME_LEVELS[currentLevel]) {\n          const { startPosition } = GAME_LEVELS[currentLevel];\n          return { x: startPosition.x, y: startPosition.y, vx: 0, vy: 0, isOnGround: false, isJumping: false };\n        }\n\n        // Cambia livello con il pulsante SELECT\n        if (currentPressed[BUTTONS.SELECT]) {\n          setCurrentLevel(prev => (prev + 1) % GAME_LEVELS.length);\n        }\n\n        // Supporto per abbassarsi o accelerare la caduta\n        if (currentPressed[BUTTONS.DOWN] && !isOnGround) {\n          vy -= 0.5;\n        }\n\n        return { x, y, vx, vy, isOnGround, isJumping };\n      });\n\n      animationFrameId.current = requestAnimationFrame(update);\n    };\n\n    animationFrameId.current = requestAnimationFrame(update);\n    return () => cancelAnimationFrame(animationFrameId.current);\n  }, [currentLevel, gameState.isGameOver]);\n\n  // Renderizza gli elementi del livello (escludendo i \"collectable\")\n  const renderLevel = () => {\n    if (!GAME_LEVELS[currentLevel]) return null;\n    const level = GAME_LEVELS[currentLevel];\n\n    return (\n      <>\n        {level.elements.map((element, index) => {\n          if (element.type === LEVEL_TYPES.DISAPPEARING && disappearingPlatforms[index]) return null;\n          // Escludiamo eventuali oggetti \"collectable\" se presenti\n          if (element.type === \"collectable\") return null;\n\n          let elementX = element.x;\n          let elementY = element.y;\n          if (element.type === LEVEL_TYPES.MOVING) {\n            const time = Date.now() / 1000;\n            const cycle = Math.sin(time * element.speed);\n            elementX = element.x + element.moveX * cycle;\n            elementY = element.y + element.moveY * cycle;\n          }\n\n          const commonStyle = {\n            left: `${elementX}%`,\n            bottom: `${elementY}%`,\n            width: `${element.width}%`,\n            height: `${element.height}%`\n          };\n\n          switch (element.type) {\n            case LEVEL_TYPES.PLATFORM:\n              return <div key={index} className=\"platform\" style={commonStyle} />;\n            case LEVEL_TYPES.MOVING:\n              return <div key={index} className=\"platform moving\" style={commonStyle} />;\n            case LEVEL_TYPES.BOUNCE:\n              return <div key={index} className=\"platform bounce\" style={commonStyle} />;\n            case LEVEL_TYPES.DISAPPEARING:\n              return <div key={index} className=\"platform disappearing\" style={commonStyle} />;\n            case LEVEL_TYPES.ENEMY:\n              return <div key={index} className=\"enemy\" style={commonStyle} />;\n            case LEVEL_TYPES.SPIKE:\n              return <div key={index} className=\"spike\" style={commonStyle} />;\n            case LEVEL_TYPES.FINISH:\n              return (\n                <div\n                  key={index}\n                  className=\"finish\"\n                  style={{ left: `${elementX}%`, bottom: `${elementY}%`, width: \"10%\", height: \"10%\" }}\n                />\n              );\n            default:\n              return null;\n          }\n        })}\n      </>\n    );\n  };\n\n  // Interfaccia di gioco (gestione vite e messaggi di Game Over/Complimento)\n  const renderGameInterface = () => {\n    if (gameState.isGameOver) {\n      return (\n        <div className=\"game-over\">\n          <h2>{gameState.isLevelComplete ? \"Congratulazioni!\" : \"Game Over\"}</h2>\n          <button onClick={() => {\n            setCurrentLevel(0);\n            setGameState({ lives: 3, isGameOver: false, isLevelComplete: false });\n          }}>\n            Ricomincia\n          </button>\n        </div>\n      );\n    }\n    return (\n      <div className=\"game-info\">\n        <div className=\"lives-display\">\n          Vite: {Array.from({ length: gameState.lives }, (_, i) => <span key={i} className=\"life-icon\" />)}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className=\"emu-container\"\n      style={{ backgroundColor: GAME_LEVELS[currentLevel]?.backgroundColor || \"#87CEEB\" }}\n    >\n      {renderLevel()}\n      <div\n        className=\"ball\"\n        style={{\n          left: `${ball.x}%`,\n          bottom: `${ball.y}%`,\n          width: `${ballSize}%`,\n          height: `${ballSize}%`\n        }}\n      ></div>\n      {renderGameInterface()}\n    </div>\n  );\n}\n\nexport default EmuSchermo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}