{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppebondi/Documents/GitHub/PJ-Platform/src/components/SlotTime.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './SlotTime.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SlotTime({\n  timeSlot,\n  onSlotComplete\n}) {\n  _s();\n  const [selectedBet, setSelectedBet] = useState(timeSlot);\n  const [animating, setAnimating] = useState(false);\n  const [result, setResult] = useState(null); // { multiplier, winnings }\n\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (animating || result !== null) return; // ignora input durante animazione o se il risultato è già mostrato\n\n      if (e.key === \"ArrowLeft\") {\n        setSelectedBet(prev => Math.max(prev - 1, 0));\n      } else if (e.key === \"ArrowRight\") {\n        setSelectedBet(prev => Math.min(prev + 1, timeSlot));\n      } else if (e.key.toLowerCase() === \"a\") {\n        // Avvia l'animazione della slot\n        setAnimating(true);\n        setTimeout(() => {\n          // Simula il risultato: moltiplicatore casuale tra 0 e 3\n          const multipliers = [0, 1, 2, 3];\n          const randomMultiplier = multipliers[Math.floor(Math.random() * multipliers.length)];\n          const winnings = selectedBet * randomMultiplier;\n          setResult({\n            multiplier: randomMultiplier,\n            winnings\n          });\n          setAnimating(false);\n        }, 2000); // durata dell'animazione: 2 secondi\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [animating, result, selectedBet, timeSlot]);\n\n  // Gestione del click per uscire dal componente, solo se il risultato è stato calcolato\n  const handleClick = () => {\n    if (result !== null) {\n      onSlotComplete(result.winnings);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slot-overlay\",\n    onClick: handleClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `slot-container ${animating ? 'animate' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Slot Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Tempo residuo (monete): \", timeSlot]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Puntata selezionata: \", selectedBet]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), !animating && result === null && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"instructions\",\n        children: \"Usa le frecce per modificare la puntata e premi A per confermare.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), animating && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"animation-text\",\n        children: \"Animazione in corso...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), result !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result\",\n        children: [result.multiplier > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Hai vinto! Moltiplicatore: \", result.multiplier, \" - Vincita: \", result.winnings]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Non hai vinto, riprova!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Clicca per continuare...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(SlotTime, \"9onNDMaWo+4AehpiI4Es8AZkC+Q=\");\n_c = SlotTime;\nexport default SlotTime;\nvar _c;\n$RefreshReg$(_c, \"SlotTime\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SlotTime","timeSlot","onSlotComplete","_s","selectedBet","setSelectedBet","animating","setAnimating","result","setResult","handleKeyDown","e","key","prev","Math","max","min","toLowerCase","setTimeout","multipliers","randomMultiplier","floor","random","length","winnings","multiplier","window","addEventListener","removeEventListener","handleClick","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/giuseppebondi/Documents/GitHub/PJ-Platform/src/components/SlotTime.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './SlotTime.css';\n\nfunction SlotTime({ timeSlot, onSlotComplete }) {\n  const [selectedBet, setSelectedBet] = useState(timeSlot);\n  const [animating, setAnimating] = useState(false);\n  const [result, setResult] = useState(null); // { multiplier, winnings }\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (animating || result !== null) return; // ignora input durante animazione o se il risultato è già mostrato\n\n      if (e.key === \"ArrowLeft\") {\n        setSelectedBet(prev => Math.max(prev - 1, 0));\n      } else if (e.key === \"ArrowRight\") {\n        setSelectedBet(prev => Math.min(prev + 1, timeSlot));\n      } else if (e.key.toLowerCase() === \"a\") {\n        // Avvia l'animazione della slot\n        setAnimating(true);\n        setTimeout(() => {\n          // Simula il risultato: moltiplicatore casuale tra 0 e 3\n          const multipliers = [0, 1, 2, 3];\n          const randomMultiplier = multipliers[Math.floor(Math.random() * multipliers.length)];\n          const winnings = selectedBet * randomMultiplier;\n          setResult({ multiplier: randomMultiplier, winnings });\n          setAnimating(false);\n        }, 2000); // durata dell'animazione: 2 secondi\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [animating, result, selectedBet, timeSlot]);\n\n  // Gestione del click per uscire dal componente, solo se il risultato è stato calcolato\n  const handleClick = () => {\n    if (result !== null) {\n      onSlotComplete(result.winnings);\n    }\n  };\n\n  return (\n    <div className=\"slot-overlay\" onClick={handleClick}>\n      <div className={`slot-container ${animating ? 'animate' : ''}`}>\n        <h2>Slot Game</h2>\n        <p>Tempo residuo (monete): {timeSlot}</p>\n        <p>Puntata selezionata: {selectedBet}</p>\n\n        {(!animating && result === null) && (\n          <p className=\"instructions\">\n            Usa le frecce per modificare la puntata e premi A per confermare.\n          </p>\n        )}\n\n        {animating && (\n          <p className=\"animation-text\">Animazione in corso...</p>\n        )}\n\n        {result !== null && (\n          <div className=\"result\">\n            {result.multiplier > 0 ? (\n              <p>Hai vinto! Moltiplicatore: {result.multiplier} - Vincita: {result.winnings}</p>\n            ) : (\n              <p>Non hai vinto, riprova!</p>\n            )}\n            <p>Clicca per continuare...</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SlotTime;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}